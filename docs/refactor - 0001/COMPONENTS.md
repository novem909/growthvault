# GrowthVault UI Components

**Version**: 2.0  
**Last Updated**: November 2, 2025

Complete reference for all UI components, their structure, styling, and behavior.

---

## Table of Contents

1. [Component Overview](#component-overview)
2. [Header Components](#header-components)
3. [Form Components](#form-components)
4. [List Components](#list-components)
5. [Modal Components](#modal-components)
6. [Utility Components](#utility-components)
7. [Responsive Behavior](#responsive-behavior)
8. [Theming](#theming)
9. [Animations](#animations)

---

## Component Overview

### Component Categories

| Category | Components | Source |
|----------|------------|--------|
| Header | Auth button, Theme toggle, Editable titles | `index.html` |
| Form | Input fields, File upload, Action buttons | `index.html` |
| List | Author boxes, Item cards, Empty state | Generated by `UIManager` |
| Modals | Content modal, Author popup, Image zoom | `index.html` + `ModalManager` |
| Utility | FAB, Toast notifications, Sync indicator | `index.html` + `ui-utils.js` |

### Component Lifecycle

1. **Static**: Defined in `index.html`, styled by CSS
2. **Dynamic**: Created by JavaScript (`createElement`), classes applied
3. **Interactive**: Event delegation via `data-action` attributes
4. **Responsive**: CSS media queries adjust layout

---

## Header Components

### 1. Authentication Button

**Location**: `index.html` header  
**Manager**: `EventHandlers` + `FirebaseManager`

```html
<button class="auth-button" id="authButton" data-action="auth">
  <span id="authText">Sign In</span>
</button>
```

**CSS Classes**:
- `.auth-button` - Base styling

**States**:
- Signed Out: "Sign In"
- Signed In: "Sign Out" (updates via `FirebaseManager`)

**Interactions**:
- Click â†’ `data-action="auth"` â†’ `handleAuth()`

---

### 2. Theme Toggle

**Location**: `index.html` header  
**Manager**: `ui-utils.js`

```html
<button class="dark-mode-toggle" data-action="toggle-theme">
  <span id="themeIcon">ğŸŒ™</span>
  <span id="themeText">Dark</span>
</button>
```

**CSS Classes**:
- `.dark-mode-toggle` - Base styling

**States**:
- Light mode: ğŸŒ™ "Dark"
- Dark mode: â˜€ï¸ "Light"

**Interactions**:
- Click â†’ `toggleDarkMode()` â†’ Updates `body[data-theme]`

---

### 3. Editable Headers

**Location**: `index.html` header  
**Manager**: `ui-utils.js`

```html
<h1 class="editable-header" id="mainTitle" data-action="make-editable">
  Visual List Builder
</h1>
```

**CSS Classes**:
- `.editable-header` - Base styling
- `.editing` - Applied when in edit mode (blue border)

**Interactions**:
- Click â†’ `makeEditable(element)` â†’ Becomes contentEditable
- Enter â†’ Save and exit edit mode
- Escape â†’ Cancel and restore original text

---

### 4. Sync Status Indicator

**Location**: `index.html` header  
**Manager**: `FirebaseManager`

```html
<div id="syncStatus">
  <span id="syncIndicator" style="color: #10b981;">â—</span>
  <span id="syncText">Synced</span>
</div>
```

**States**:
- ğŸŸ¢ "Synced" (green)
- ğŸŸ¡ "Syncing..." (yellow)
- ğŸ”´ "Offline" (red)

---

## Form Components

### 1. Input Form

**Location**: `index.html`  
**Manager**: `EventHandlers` (handles submit)

```html
<form class="input-form" id="itemForm">
  <div class="input-group">
    <label for="authorInput">Author</label>
    <input type="text" id="authorInput" placeholder="Enter author name..." required>
  </div>
  <div class="input-group">
    <label for="titleInput">Title (optional)</label>
    <input type="text" id="titleInput" placeholder="Enter a title...">
  </div>
  <div class="input-group">
    <label for="textInput">Text Content</label>
    <textarea id="textInput" placeholder="Paste your text..." rows="4"></textarea>
  </div>
  <div class="input-group">
    <label for="imageInput">Image (optional)</label>
    <input type="file" id="imageInput" accept="image/*">
  </div>
  <button type="submit" class="btn">Add Item</button>
</form>
```

**CSS Classes**:
- `.input-form` - Form container
- `.input-group` - Input wrapper with label
- `.btn` - Primary button styling

**Validation**:
- Author: Required, max 100 characters
- Title: Optional, max 200 characters
- Text: Optional but encouraged
- Image: Optional, max 5MB, image/* types only

---

### 2. Data Management Buttons

**Location**: `index.html`  
**Manager**: `EventHandlers` + `ListManager`

```html
<div class="data-actions">
  <button type="button" class="btn-secondary" data-action="export-data">
    Export Data
  </button>
  <label for="importFile" class="btn-secondary">Import Data</label>
  <input type="file" id="importFile" accept=".json" style="display: none;" data-action="import-data">
  <button type="button" class="btn-danger" data-action="clear-all">
    Clear All
  </button>
</div>
```

**CSS Classes**:
- `.btn-secondary` - Secondary action button
- `.btn-danger` - Destructive action button

---

## List Components

### 1. Author Box

**Generated by**: `UIManager.renderAuthorBox()`  
**Template**:

```html
<div class="author-box" data-author="John Doe">
  <!-- Drag Handle -->
  <div class="author-drag-handle" draggable="true">â‹®â‹®</div>
  
  <!-- Header (clickable to open popup) -->
  <div class="author-header" data-action="open-author-popup" data-author="John Doe">
    <span class="author-name">John Doe</span>
    <span class="item-count">3 items</span>
  </div>
  
  <!-- Delete Button -->
  <button class="delete-author-btn" data-action="delete-author" data-author="John Doe">
    Ã— Delete Author
  </button>
  
  <!-- Items Container -->
  <div class="author-items">
    <!-- Individual items rendered here -->
  </div>
</div>
```

**CSS Classes**:
- `.author-box` - Container for author and their items
- `.author-drag-handle` - Drag handle (â‹®â‹®)
- `.author-header` - Clickable header area
- `.author-name` - Author name text
- `.item-count` - Number of items
- `.delete-author-btn` - Delete all by author button
- `.author-items` - Container for individual items
- `.dragging` - Applied during drag operation
- `.drag-over` - Applied to drop target

**Responsive**:
- Desktop: 2-3 columns grid
- Tablet: 2 columns
- Mobile: 1 column (stacked)

---

### 2. List Item

**Generated by**: `UIManager.renderAuthorBox()` (inline)  
**Template**:

```html
<div class="list-item" data-item-id="1730000000000">
  <!-- Title (if present) -->
  <div class="item-title">Article Title</div>
  
  <!-- Date -->
  <div class="item-date">Oct 27, 2025 2:30 PM</div>
  
  <!-- Text Content (clickable) -->
  <div class="item-text" data-action="open-item-modal" data-item-id="1730000000000">
    This is the text content that was entered...
  </div>
  
  <!-- Image (if present, clickable for zoom) -->
  <img class="item-image" src="data:image/jpeg;..." 
       data-action="zoom-image" data-image-src="data:image/jpeg;...">
  
  <!-- Delete Button -->
  <button class="delete-btn" data-action="delete-item" data-item-id="1730000000000">
    Ã—
  </button>
</div>
```

**CSS Classes**:
- `.list-item` - Item container
- `.item-title` - Title text (bold)
- `.item-date` - Timestamp (small, gray)
- `.item-text` - Content text (preserve formatting)
- `.item-image` - Uploaded image (max-width: 100%)
- `.delete-btn` - Delete button (Ã—)

---

### 3. Empty State

**Location**: `index.html` (shown/hidden)  
**Manager**: `UIManager`

```html
<div class="empty-state">
  <svg viewBox="0 0 24 24" fill="currentColor">
    <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14..."/>
  </svg>
  <p>No items yet. Add your first item above!</p>
</div>
```

**CSS Classes**:
- `.empty-state` - Centered empty state container

**Display Logic**:
- Show when `items.length === 0`
- Hide when `items.length > 0`

---

## Modal Components

### 1. Content Modal

**Location**: `index.html`  
**Manager**: `ModalManager`

```html
<div id="contentModal" class="modal">
  <div class="modal-content">
    <!-- Header -->
    <div class="modal-header">
      <h3 class="modal-title">Content Details</h3>
      <div>
        <button class="modal-delete" data-action="delete-modal-item">
          Delete Content
        </button>
        <button class="modal-close" data-action="close-modal">Ã—</button>
      </div>
    </div>
    
    <!-- Format Toolbar (hidden by default) -->
    <div class="format-toolbar" id="formatToolbar" style="display: none;">
      <button class="format-btn" data-action="format-text" data-format="bold">
        <strong>B</strong>
      </button>
      <button class="format-btn" data-action="format-text" data-format="insertUnorderedList">
        â€¢ List
      </button>
    </div>
    
    <!-- Content (populated dynamically) -->
    <div class="modal-text" id="modalText"></div>
    <img class="modal-image" id="modalImage" alt="Content image">
    
    <!-- Metadata -->
    <div class="modal-meta">
      <span><strong>Author:</strong> <span id="modalAuthor"></span></span>
      <span><strong>Date:</strong> <span id="modalDate"></span></span>
    </div>
  </div>
</div>
```

**CSS Classes**:
- `.modal` - Backdrop (full screen, semi-transparent)
- `.modal-content` - White content box
- `.modal-header` - Header with title and buttons
- `.modal-text` - Content text area
- `.modal-image` - Full-width image
- `.modal-meta` - Metadata footer

**Interactions**:
- Click backdrop â†’ Close modal
- Press ESC â†’ Close modal
- Click Ã— â†’ Close modal
- Click "Delete Content" â†’ Delete item and close
- Click image â†’ Open image zoom

---

### 2. Author Popup

**Location**: `index.html`  
**Manager**: `ModalManager`

```html
<div id="authorPopup" class="author-popup">
  <div class="author-popup-content">
    <!-- Header -->
    <div class="author-popup-header">
      <h3 class="author-popup-title" id="authorPopupTitle">John Doe</h3>
      <div>
        <button class="author-popup-delete" data-action="delete-author-from-popup">
          Delete Author
        </button>
        <button class="author-popup-close" data-action="close-popup">Ã—</button>
      </div>
    </div>
    
    <!-- Items (generated dynamically) -->
    <div class="author-items" id="authorPopupItems">
      <!-- Popup items rendered here -->
    </div>
  </div>
</div>
```

**CSS Classes**:
- `.author-popup` - Backdrop
- `.author-popup-content` - Content box
- `.author-popup-header` - Header with actions
- `.popup-list-item` - Individual item in popup (draggable)
- `.popup-drag-handle` - Drag handle (â˜°)

**Popup Item Structure** (generated):

```html
<div class="popup-list-item" draggable="true" data-id="1730000000000">
  <!-- Drag Handle -->
  <div class="popup-drag-handle">â˜°</div>
  
  <!-- Date -->
  <div class="item-date">Oct 27, 2025</div>
  
  <!-- Delete Button -->
  <button class="delete-btn" data-action="delete-item-from-popup" 
          data-item-id="1730000000000" data-item-title="Article">Ã—</button>
  
  <!-- Title -->
  <div class="item-title">Article Title</div>
  
  <!-- Text (clickable) -->
  <div class="item-text" data-action="open-item-modal-from-popup" 
       data-item-id="1730000000000">
    Content text here...
  </div>
  
  <!-- Image (if present) -->
  <img class="item-image" src="..." 
       data-action="zoom-image" data-image-src="...">
</div>
```

**Drag & Drop**:
- Items can be reordered within popup
- Order persists when popup is closed
- Visual feedback: `.dragging` and `.drag-over` classes

---

### 3. Image Zoom Overlay

**Location**: `index.html`  
**Manager**: `ui-utils.js`

```html
<div id="imageZoomOverlay" class="image-zoom-overlay" data-action="close-image-zoom">
  <button class="image-zoom-close" data-action="close-image-zoom" title="Close (ESC)">
    Ã—
  </button>
  <img id="zoomedImage" class="zoomed-image" alt="Zoomed image" 
       data-action="prevent-close">
</div>
```

**CSS Classes**:
- `.image-zoom-overlay` - Full screen black backdrop
- `.zoomed-image` - Centered, max 90% viewport
- `.image-zoom-close` - Close button (top-right)
- `.active` - Applied when open

**Interactions**:
- Click backdrop â†’ Close
- Click image â†’ Do nothing (prevent-close)
- Press ESC â†’ Close
- Click Ã— â†’ Close

---

## Utility Components

### 1. Floating Action Button (FAB)

**Location**: `index.html`  
**Manager**: `ui-utils.js`

```html
<button class="fab" data-action="scroll-to-form" title="Add new item">
  +
</button>
```

**CSS Classes**:
- `.fab` - Circular button, fixed bottom-right
- Hover: Scale up slightly
- Active: Scale down slightly

**Behavior**:
- Fixed position: `bottom: 20px; right: 20px`
- Click â†’ Smooth scroll to form
- Author input receives focus after scroll

---

### 2. Toast Notifications

**Generated by**: `ui-utils.showToast()`  
**Template**:

```html
<div class="toast success">Item added successfully!</div>
<div class="toast error">Error occurred</div>
<div class="toast default">Item deleted</div>
```

**CSS Classes**:
- `.toast` - Base toast styling
- `.success` - Green background
- `.error` - Red background
- `.default` - Gray background
- `.show` - Applied for animation (slide in from top)

**Behavior**:
- Appears at top center
- Auto-dismisses after 3 seconds
- Slides in (top: 20px) â†’ Slides out
- Only one toast at a time (removes previous)

---

### 3. Auto-Save Indicator

**Location**: `index.html`  
**Manager**: `UIManager` + `ui-utils.js`

```html
<div class="storage-info" id="storageInfo">
  <span class="auto-save-indicator">ğŸŸ¢ Auto-saved locally (2.5 KB)</span>
</div>
```

**CSS Classes**:
- `.storage-info` - Container
- `.auto-save-indicator` - Indicator text

**States**:
- ğŸ’¾ "Saved" (brief after save)
- ğŸŸ¢ "Auto-saved locally (X KB)" (normal)

---

## Responsive Behavior

### Breakpoints

Defined in `css/responsive.css`:

```css
/* Mobile */
@media (max-width: 767px) { }

/* Tablet */
@media (min-width: 768px) and (max-width: 1023px) { }

/* Desktop */
@media (min-width: 1024px) { }
```

### Component Adaptations

| Component | Mobile | Tablet | Desktop |
|-----------|--------|--------|---------|
| Author boxes | 1 column | 2 columns | 2-3 columns |
| Form | Full width | Max 600px | Max 600px |
| Modal | 95% width | 80% width | Max 800px |
| Author popup | 95% width | 90% width | Max 1000px |
| FAB | 50px | 56px | 56px |
| Text size | 14-16px | 16px | 16px |
| Buttons | 44px+ tap | 40px | 36px |

### Mobile Optimizations

1. **Touch Targets**: Minimum 44px for tap areas
2. **Drag Handles**: Larger on mobile (easier to grab)
3. **Modals**: Nearly full-screen on mobile
4. **Text Inputs**: Prevent zoom on focus (font-size >= 16px)
5. **Horizontal Scroll**: Prevented (max-width: 100%)

---

## Theming

### Theme System

Controlled by `body[data-theme]` attribute:

```html
<body data-theme="light">  <!-- or "dark" -->
```

### CSS Variables

Defined in `css/variables.css`:

```css
:root {
  --color-primary: #6366f1;
  --color-background: #ffffff;
  --color-text: #1f2937;
  --color-border: #e5e7eb;
  /* ... more */
}

body[data-theme="dark"] {
  --color-background: #1f2937;
  --color-text: #f9fafb;
  --color-border: #374151;
  /* ... more */
}
```

### Theme Persistence

- Saved to `localStorage.getItem('theme')`
- Loaded on page init via `initializeTheme()`
- Toggled via `toggleDarkMode()`

---

## Animations

### CSS Animations

Defined in `css/animations.css`:

#### Fade In
```css
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(-10px); }
  to { opacity: 1; transform: translateY(0); }
}

.author-box { animation: fadeIn 0.3s ease-out; }
```

#### Slide In (Toast)
```css
@keyframes slideIn {
  from { transform: translateY(-100%); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

.toast.show { animation: slideIn 0.3s ease-out; }
```

#### Scale Hover (Buttons)
```css
.btn:hover { transform: scale(1.02); }
.btn:active { transform: scale(0.98); }
```

### Drag & Drop Visual Feedback

```css
.dragging {
  opacity: 0.5;
  transform: rotate(2deg);
}

.drag-over {
  border: 2px dashed var(--color-primary);
  background-color: var(--color-hover);
}
```

---

## Accessibility

### ARIA Labels

```html
<!-- Buttons with only icons -->
<button aria-label="Close" class="modal-close">Ã—</button>

<!-- Dynamic content -->
<div role="alert" class="toast">Item added</div>

<!-- Modals -->
<div role="dialog" aria-modal="true" class="modal">
```

### Keyboard Navigation

- All interactive elements are tabbable
- Focus indicators visible (`:focus-visible`)
- ESC key closes modals
- Enter submits forms
- Ctrl+Z for undo

### Screen Reader Support

- Form labels properly associated
- Buttons have descriptive text or aria-label
- Images have alt text
- Status messages use role="alert" (future enhancement)

---

## Best Practices

### Adding New Components

1. **Static HTML**: Add to `index.html` if persistent
2. **Dynamic**: Use `createElement()` in appropriate manager
3. **Styling**: Add classes in `css/components.css`
4. **Interactions**: Use `data-action` attributes
5. **Responsive**: Test all breakpoints
6. **Theme**: Use CSS variables for colors
7. **Animation**: Add subtle animations for polish

### Component Checklist

- [ ] HTML structure is semantic
- [ ] CSS classes follow naming convention
- [ ] Uses CSS variables for theming
- [ ] data-action for interactions (no inline onclick)
- [ ] Responsive at all breakpoints
- [ ] Accessible (keyboard, ARIA, focus)
- [ ] Animations are performant (transform/opacity only)
- [ ] Works in light and dark themes

---

## Component Hierarchy

```
index.html
â”œâ”€â”€ .container
â”‚   â”œâ”€â”€ .header
â”‚   â”‚   â”œâ”€â”€ .auth-button
â”‚   â”‚   â”œâ”€â”€ #syncStatus
â”‚   â”‚   â”œâ”€â”€ .dark-mode-toggle
â”‚   â”‚   â”œâ”€â”€ .editable-header#mainTitle
â”‚   â”‚   â””â”€â”€ .editable-header#subtitle
â”‚   â”œâ”€â”€ .input-section
â”‚   â”‚   â”œâ”€â”€ .input-form#itemForm
â”‚   â”‚   â””â”€â”€ .data-management
â”‚   â””â”€â”€ .list-container
â”‚       â”œâ”€â”€ .list-title#listTitle
â”‚       â””â”€â”€ #visualList
â”‚           â”œâ”€â”€ .author-box (dynamic)
â”‚           â”‚   â”œâ”€â”€ .author-drag-handle
â”‚           â”‚   â”œâ”€â”€ .author-header
â”‚           â”‚   â”œâ”€â”€ .delete-author-btn
â”‚           â”‚   â””â”€â”€ .author-items
â”‚           â”‚       â””â”€â”€ .list-item
â”‚           â”‚           â”œâ”€â”€ .item-title
â”‚           â”‚           â”œâ”€â”€ .item-date
â”‚           â”‚           â”œâ”€â”€ .item-text
â”‚           â”‚           â”œâ”€â”€ .item-image
â”‚           â”‚           â””â”€â”€ .delete-btn
â”‚           â””â”€â”€ .empty-state
â”œâ”€â”€ #contentModal
â”‚   â””â”€â”€ .modal-content
â”‚       â”œâ”€â”€ .modal-header
â”‚       â”œâ”€â”€ .format-toolbar
â”‚       â”œâ”€â”€ .modal-text
â”‚       â”œâ”€â”€ .modal-image
â”‚       â””â”€â”€ .modal-meta
â”œâ”€â”€ #authorPopup
â”‚   â””â”€â”€ .author-popup-content
â”‚       â”œâ”€â”€ .author-popup-header
â”‚       â””â”€â”€ #authorPopupItems
â”‚           â””â”€â”€ .popup-list-item (dynamic)
â”œâ”€â”€ #imageZoomOverlay
â”‚   â”œâ”€â”€ .image-zoom-close
â”‚   â””â”€â”€ #zoomedImage
â””â”€â”€ .fab
```

---

For architecture details, see [ARCHITECTURE.md](./ARCHITECTURE.md)  
For API documentation, see [API.md](./API.md)  
For development setup, see [DEVELOPMENT.md](./DEVELOPMENT.md)


